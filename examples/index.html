<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="description" content="">
	<meta name="author" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<title>Potree Viewer</title>

  <link rel="stylesheet" type="text/css" href="../src/viewer/potree.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
</head>

<body style="background-color: #e5e5e5;">
  <div class="centered">
    <div id="uploadPageTitle">
      .potree
    </div>
    <div id="uploadPageText">
      Please choose a pointcloud or use the default one. <br /><br />If you want to upload your own pointcloud, please make sure that it is located in the <i>Pointclouds</i> Folder of Potree.
    </div>
    <div id="uploadButtonBar">
      <button id="btnPointCloudUpload" class="uploadButton">Upload own pointcloud</button>
      <button id="btnUseDefaultPointCloud" class="uploadButton">Use default</button>
    </div>
    <input type="file" id="FileUploader" style="display: none" webkitdirectory mozdirectory msdirectory odirectory directory />
    </div>
  </div>

  <script>
    var fileuploader = document.getElementById("FileUploader");
    var filePath = document.getElementById("uploadedPointCloudLabel");
    var btnUseDefaultPointCloud = document.getElementById("btnUseDefaultPointCloud");
    var btnPointCloudUpload = document.getElementById("btnPointCloudUpload");
    btnUseDefaultPointCloud.onclick = function(){
      window.location.href = "_demo.html";
    }
    btnPointCloudUpload.onclick = function(){
      fileuploader.click();
    }
    fileuploader.onchange = function(e) {
      var theFiles = e.target.files;
      var relativePath = theFiles[0].webkitRelativePath;
      var folder = relativePath.split("/");
      var url = "../pointclouds/";
      var filePath = url + relativePath;
      window.location.href = "_demo.html?pointcloud="+filePath;
    }
  </script>
</body>
</html>
